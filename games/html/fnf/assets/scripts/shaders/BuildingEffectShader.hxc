import flixel.addons.display.FlxRuntimeShader;

class BuildingEffectShader extends FlxRuntimeShader
{
  var effectAlpha:Float = 1.0;

  public var effectSpeed:Float = 1.0;

  function new(speed:Float = 1.0)
  {
    var fragText:String = Assets.getText(Paths.frag('building'));
    super(fragText);
    this.effectSpeed = speed;
  }

  function setAlpha(value:Float):Void
  {
    this.effectAlpha = value;
    this.setFloat('alphaShit', this.effectAlpha);
  }

  function update(elapsed:Float):Void
  {
    setAlpha(effectAlpha + effectSpeed * elapsed);
  }

  function reset()
  {
    setAlpha(0);
  }
}
